# ========================================
# Dagster AuthKit - LDAP Configuration
# ========================================

# LDAP Server
DAGSTER_AUTH_BACKEND=ldap
DAGSTER_AUTH_LDAP_SERVER=ldap://ldap:389
DAGSTER_AUTH_LDAP_BASE_DN=ou=users,dc=example,dc=com
DAGSTER_AUTH_LDAP_BIND_DN=cn=admin,dc=example,dc=com
DAGSTER_AUTH_LDAP_BIND_PASSWORD=admin_secret

# User Search
DAGSTER_AUTH_LDAP_USER_FILTER=(uid={username})

# Role Mapping (Group Pattern)
DAGSTER_AUTH_LDAP_GROUP_PATTERN=cn=dagster-{role},ou=groups,dc=example,dc=com

# TLS (disabled for local dev)
DAGSTER_AUTH_LDAP_USE_TLS=false
# DAGSTER_AUTH_LDAP_CA_CERT=/path/to/ca.crt

# Session Management
DAGSTER_AUTH_REDIS_URL=redis://redis:6379/0
DAGSTER_AUTH_SECRET_KEY=CHANGE-ME-IN-PRODUCTION-use-secrets-token-urlsafe-32
DAGSTER_AUTH_SESSION_MAX_AGE=86400

# Logging
DAGSTER_AUTH_LOG_LEVEL=INFO
DAGSTER_AUTH_AUDIT_LOG=true

# OpenLDAP Admin (for phpLDAPadmin)
LDAP_ADMIN_PASSWORD=admin_secret